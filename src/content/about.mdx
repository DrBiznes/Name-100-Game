import { Note } from '../components/ui/Note';
import { CodeBlock } from '../components/ui/CodeBlock';

In early 2024, a simple challenge emerged that would expose an unsurprising gap in humanities collective knowledge: Name 100 women. <Note number={1}>This challenge originated from Twitch streamer QTCinderella in early 2024, quickly becoming a viral sensation in the streaming community.</Note>

![ChatGPT Has No Faith In Humanity](chatgptnofaith.png)

It started with a challenge from Twitch streamer QTCinderella in early 2024. A simple premise that sparked a fascinating realization about our collective knowledge of women's achievements throughout history. The challenge quickly gained traction, with streamers and content creators testing their knowledge - including NorthernLion's legendary 7:11 speed run. <Note number={2}>NorthernLion's speed run demonstrated both the possibility and difficulty of the challenge, setting an early benchmark for others to chase.</Note>

When I (James Femino, aka jamino) started developing Name100Women, the skeptics had plenty to say:

- "The Wikipedia API will rate limit you to death" <Note number={3}>I solved this through aggressive caching and a multi-layered verification system that minimizes API calls.</Note>
- "You'll never handle all the edge cases with names"
- "What about non-English names?"

They weren't entirely wrong - but they weren't right either. Here's how I built it.

## The Challenges

### Challenge 1: Verification Vanessa

My verification system evolved through three increasingly sophisticated layers: <Note number={4}>Each layer of verification adds both accuracy and complexity, requiring careful balance between speed and correctness.</Note>

1. Local database lookup
2. Wikipedia API verification
3. Special case handling (like mononyms)

<CodeBlock title="Core Name Validation Implementation" language="typescript">{`// From nameValidationService.ts
function normalizeNameForComparison(name: string): string {
  return name
    .toLowerCase()
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "")  // Remove diacritics
    .replace(/-/g, ' ')               // Replace hyphens with spaces
    .replace(/\./g, '')              // Remove periods
    .trim();                          // Remove leading/trailing whitespace
}

// Check local database first
function checkLocalDatabase(name: string): boolean {
  const normalizedInputName = normalizeNameForComparison(name);
  
  return names.some(dbName => {
    const normalizedDbName = normalizeNameForComparison(dbName);
    return normalizedDbName === normalizedInputName;
  });
}`}</CodeBlock>

### Challenge 2: Mononym Mary

The mononym issue first became apparent when users started entering names like "Cher" and "Beyonc√©". <Note number={5}>Mononyms presented a unique challenge, as they break the traditional FirstName LastName pattern but are still valid entries.</Note> My initial system rejected these as invalid since they didn't follow the expected "FirstName LastName" pattern. This led to the creation of my mononym handling system:

```json
{
    "mononyms": [
      {
        "name": "Aaliyah",
        "wikipedia": "/wiki/Aaliyah"
      },
      {
        "name": "Cher",
        "wikipedia": "/wiki/Cher"
      }
      // ... many more
    ]
}
```

<CodeBlock title="Mononym Validation Logic" language="typescript">{`// From nameValidationService.ts
function checkMononymDatabase(name: string): string | null {
  const normalizedInputName = normalizeNameForComparison(name);
  const mononym = mononyms.find(m => 
    normalizeNameForComparison(m.name) === normalizedInputName
  );
  return mononym ? mononym.wikipedia : null;
}`}</CodeBlock>

##### Contributing to the Databases

Found a missing name? The databases are community-maintained and I welcome contributions! <Note number={6}>Community contributions have been vital in expanding the database coverage, especially for non-Western names and historical figures.</Note>

```json
{
  "name": "NewArtist",
  "wikipedia": "/wiki/NewArtist_(singer)"
}
```

### Challenge 3: Wiki Winona

When the local database check fails, I fall back to the Wikipedia API. This requires careful verification of several factors. <Note number={7}>The Wikipedia API provides rich data but requires careful parsing to determine if an article is about a woman.</Note>

<CodeBlock title="Wikipedia Verification Implementation" language="typescript">{`// From wikipediaService.ts
export async function checkWikipedia(name: string): Promise<boolean> {
  try {
    const searchUrl = \`https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch="\${encodeURIComponent(name)}"&format=json&origin=*\`;
    const searchResponse = await fetch(searchUrl);
    const searchData = await searchResponse.json();

    if (searchData.query.search.length === 0) {
      return false;
    }

    // Analyze the article content for gender indicators
    const femaleIndicators = [
      'she', 'her', 'hers', 'woman', 'female', 'girl', 'actress',
      'chairwoman', 'congresswoman', 'businesswoman', 'feminist',
      'spokeswoman'
    ];

    // Verify the article is about a woman
    const pageId = searchData.query.search[0].pageid;
    const contentUrl = \`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&exintro&pageids=\${pageId}&format=json&origin=*\`;
    // ... rest of implementation
}`}</CodeBlock>

### Future Features

I'm always looking to improve Name100Women. Some features on my roadmap: <Note number={8}>These features are prioritized based on user feedback and technical feasibility.</Note>

- Integrated learning resources about each woman
- Multiplayer mode for competitive naming
- Historical timeline view of named women
- Statistics on most commonly named women

Want to help make these features a reality? Here's how:

```bash
# Clone the repository
git clone https://github.com/yourusername/name100women.git
cd name100women
npm install
npm run dev
```

See my [contributing guidelines](placeholder_link) for more details. 